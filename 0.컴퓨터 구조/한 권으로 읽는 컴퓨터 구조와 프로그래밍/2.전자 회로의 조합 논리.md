# 문서 설명

해당 컨텐츠의 근간이 되는 책인 `한 권으로 읽는 컴퓨터 구조와 프로그래밍`에서 2장을 시작하면서 하는 말이 있습니다.
**`계산만을 위해 발명된 근본 기술은 드물다. 대부분의 기술은 다른 목적을 위해 만들어진 기술을 계산에 적용했을 뿐이다.`**
이번 문서에서는 이러한 기술의 진화 중 일부를 다룹니다. 2장 역시 개인적으로 큰 도움이 되는 내용이 있다고 생각합니다.


## 개요

1장에서는 현대 컴퓨터들이 비트라고 부르는 2진 상자를 내부 언어로 사용한다는 사실을 배웠다. 1장에서 비트에 대해 논의한 내용은 상당히 추상적이었다. 여기서는 구체적인 본론으로 들어간다.
비트에 대해 동작하는 장치를 포함해 모든 물리적인 장치를 **하드웨어**라고 부른다. 여기서 우리는 **조합 논리를 구현하는 하드웨어** 에 대해 살펴볼 것이다. (여기서 말하는 조합논리는 불리언 대수를 부르는 또 다른 이름이다.)

## 디지털 컴퓨터의 사례

### 컴퓨터 이전의 계산 장치

역사적으로는 계수(숫자를 세는 행위)가 계산 장치를 활용하는 주된 용도였다. 손가락은 10개밖에 없었기 때문에 그 이상의 수를 편히 계산하게 해주는 장치의 존재는 필수불가결적으로 필요하였다.
근대에는 톱니바퀴를 사용하던 기계적인 기계 장치들도 존재했고, log(x*y) = log(x) + log(y) 라는 사실을 이용해 곱셈을 수행하는 계산자라는 장치도 존재했다. 당시에는 제작 불가능한 장치였던 `차분 기관`이라는 복잡한 10진 기계식 계산기도 이론적으로 존재했다.
간단한 기계적 10진수 계산기는 차분 기관 같은 복잡한 금속 기술이 필요하지 않았기 때문에(이를테면, 중반 회계와 장부 기록에 스이는 10진수를 더하는 기계 등등) 만들어졌었다.

### 아날로그와 디지털의 차이

간단하게 계산자(여기서 말하는 계산자는 로그 스케일을 표현하는 자를 말한다)와 손가락을 비교해보자. 이 둘은 모두 1부터 10까지를 다룰 수 있다. 하지만 계산자에서는 1.1 등의 수를 표현할 수 있지만 손가락은 별도의 방법이 없는 이상 1.1을 표현할 수가 없다. 근본적으로 자는 수학적으로 **연속적**이기 때문이다. 반면 손가락은 **이산적**이라 부르는 성질을 가졌으며, 정수만 표현할 수 있다. 정수는 손가락처럼 한 값에서 다음 값으로 값이 건너뛴다. 정수와 다음 정수 사이에는 다른 정수값이 없다는 뜻이다.
  - 연속적이라는 말은 실수를 자릿수 제한 없이 표현할 수 있다는 뜻이다.
  - 이산적이라는 말은 하나하나 다른 존재로 구분된다는 뜻이다.

여기서 우리는 전자기술에 대해 이야기해볼 때, **아날로그는 연속적인 것을 뜻하며, 디지털은 이산적인 것을 뜻한다고 말할 수 있다.**

얼핏보면 실수를 표현할 수 있기 때문에 아날로그가 계산에는 더 적합한 선택처럼 보인다. **문제는 정밀도다.** 예를 들어 계산자 눈금에서는  1.1.을 쉽게 선택할 수 있는데 이는 1.1 근처가 눈금 간격이 넓고 1.1에 정확히 눈금이 위치하기 때문이다. 하지만 9.1을 선택하기에는 훨씬 어렵다. 아마 9.1과 9.105 사이의 구분은 현미경을 사용해도 알아보기 쉽지 않을 것이다..
  - 로그 스케일에서는 값이 비례적으로 증가하는 대신, 값의 크기가 커질수록 눈금이 좁아진다. 예를 들어, 1부터 2 사이의 간격은 상당히 넓게 그려지지만, 9부터 10 사이의 간격은 눈에 띄게 좁게 그려질 수 있다. 이건 로그 스케일을 사용하는 경우 흔히 발생한다.

물론 자를 더 크게 만들 수도 있겠지만 길이가 120미터짜리인 자를 사용하는 이동 가능한 컴퓨터를 만들기도 어려울 뿐더러 거기에 소모되는 엄청난 에너지는 덤이다. 우리는 **작고 빠르면서 전력 소모가 적은 컴퓨터를 원한다. 여기서 특히 크기가 중요한 이유가 나온다.**


### 하드웨어에서 크기가 중요한 이유

우리가 아이들을 10킬로미터 떨어진 학교에 등하교시킨다는 상상을 해보자. 차의 평균 시속이 40이라고 치면, 대략 한시간에 최대 두 번 왕복이 가능하다. 차를 더 빠르게 만들거나 학교 근처로 이사를 가기 전에는 학교로 오가는 시간을 줄일 방법은 없을 것이다.

이를 현대 컴퓨터로 비유하자면 **컴퓨터는 아이들 대신 전자를 움직인다.** 전자는 빛의 속도로 움직이며 빛의 속도는 초당 약 3억미터다. 모두가 알듯이 빛의 속도의 한계를 뛰어넘는 방법을 아직 발견하지 못했기 때문에, **컴퓨터에서 전자의 여행 시간을 최소화하는 방법은 부품을 가능한 한 가깝게 위치시키는 것 뿐이다.**

구체적인 예시를 들자면, 요즘 컴퓨터의 클록 속도는 4GHZ인데, 이 말은 1초에 40억 가지 계산을 처리할 수 있다는 뜻이다. 40억분의 1초 동안 전자가 이동할 수 있는 거리는 몇일까? 겨우 **75mm**이다. 따라서 컴퓨터에서 모든 것을 작게 만들면 더 높은 성능을 달성할 수 있음은 분명해보인다.
하드웨어를 작게 만들면 필요한 여행 거리가 줄어들고, 여행 거리가 줄어들면 필요한 에너지 양도 줄어든다. **즉 이런 변화는 결국 저 전력 소모와 열 발생 감소로 드러난다.**
이것이 계산 장치의 역사가 하드뤠어를 작게 만들려는 노력으로 점철되어 있는 이유 중 하나이다. 하지만 하드웨어를 작게 만들려다 보니 여러 가지 문제가 생겼다.

### 디지털을 사용하는 이유

하드웨어를 작게 만들면 속도와 효율은 좋아지지만, 물체가 너무 작아지면 서로 간섭하기 아주 쉬워진다. 그 유명한 **불확정성 원리**가 적용되는 것이다.
  - 불확정성 원리는 미립자의 위치와 운동량을 동시에 어느 한계 이상으로 정확하게 측정할 수 없다는 원리다. 위치를 정밀하게 측정하면 운동량의 불확정성이 커지고, 운동량을 정확하게 측정하면 위치의 불확정성이 커진다.

간단히 계량컵을 생각해보자. 계랑컵에 물을 담고, 손으로 컵을 잡아 위로 들어올리면 손이 흔들려서 컵에 있는 물의 양을 정확히 재기 어려울 것이다. 이제 이 계량컵을 수십억 배 작게 만들었다고 상상해보자. 이렇게 작은 계량컵을 흔들리지 않게 들 수 있는 사람은 존재하지 않는다. 또한 이정도 사이즈의 계량컵은 원자의 운동으로 인해 컵이 흔들릴 것이다.

계산자나 계량컵 같은 아날로그(연속적) 장치들은 정확하게 값을 읽으려면 흔들림이 없어야한다. 위에 설명한 아주 작은 계량컵은 우주 방사선 정도만 돼도 문제를 일으킬 것이다. 반면에 손가락이나 기계식 계산기 같은 이산적인 장치엔 영향을 끼치긴 어려울 텐데, 그 이유는 **이산적인 장치에는 판정 기준이 있기 때문이다.**

지금까지는 외부에서 오는 간섭에 대해 살펴봤다. 하지만 간섭에는 좀 더 내부적인 근원이 존재한다. 전자기력은 중력과 마찬가지로 멀리 떨어진 물체에 영향을 준다. 이런 영향은 라디오 같은 물건도 만들어주지만, **칩 안에서 선을 통하는 신호가 다른 선에 영향을 끼칠 수도 있다는 뜻이다.**

현대 컴퓨터 칩 안의 선은 서로 나노미터 단위로 떨어져 있다. 이정도 거리에서 발생되는 신호 간섭, 즉 누화 효과를 방지할 적절한 방법이 없기 때문에, 더 높은 판정 기준을 통해 **잡음 내성**을 갖는 디지털 회로를 사용하는 것이 필수적이다. 물론 장치를 크게 만들어서 선과 선 사이를 멀리 떨어뜨려도 되지만, 이렇게 되면 다른 목표에 어긋나게 된다.
**결론적으로 판정 기준을 도입해 생기는 안정성이 우리가 디지털(이산적인) 컴퓨터를 만드는 주된 이유다.**
문제는 현실 속 세상은 아날로그적인 세상이라는 점이다.. 이를 어찌 극복할까?

### 아날로그 세계에서 디지털 만들기

수많은 엔지니어가 과학자들이 발견한 자연적으로 발생하는 전이 함수를 영리하게 응용하는 데 참여했다.
  - 전이함수는 입력과 출력 간의 관계를 주파수 영역에서 설명하는 도구라고 생각하면 되겠다.

![제목을 입력해주세요_-001 (1)](https://github.com/user-attachments/assets/75ed89e5-c9bd-46ce-9b15-29449c24f971)

```
대충 이런 그래프다.. 마땅한 짤이 없어서 대충 그려서 미안하다..
```
예를 들어 하단부와 상단부가 존재하고 그 사이에 직선으로 표현된 직선부가 있는 곡선 그래프를 생각해보는 것이다. 그리고 우리가 흔히 볼 수 있는 볼륨 조절기에 이 그래프를 적용 시켜보자.

볼륨을 조절하여 이 곡선의 가파른 정도를 조절하여 입력에 따른 출력값을 조절하는 것이다. 

위 사진을 알아보기 힘들겠지만 가파르기를 조절하여 같은 넓이의 입력임에도 출력이 달라짐을 확인 할 수 있을 것이다..

여기에 일정 수준 이상의 가파름을 추가하면 어떻게 될까? 이렇게 하면 출력이 더 이상 입력을 충실하게 재현하지 못하고 왜곡이 발생한다. 즉 입력이 전이 함수의 직선부(선형 영역)를 넘어서기 때문에 출력이 왜곡되는 것이다.

입력이 조금만 변해도 출력이 확 달라진다. 이는 마치 손가락에서 다른 손가락으로 건너뛰는 것과 같다. 이때 판정 기준을 문턱값이라고 부르는데, 출력값이 문턱값의 한쪽에서 반대쪽으로 옮겨지고 중간 정도의 출력값이 나오기는 어렵기 때문에 이런 왜곡은 효과적이다. 이 현상은 연속적인 공간을 이산적인 영역으로 나눠준다. 이로부터 우리는 안정성과 잡음 내성을(간섭이 있어도 제대로 작동할 수 있는 능력)을 얻을 수 있다.
**즉 아날로그는 가능한 한 선형 영역을 크게 만들기 위해 노력하는 것이고, 디지털은 직선부를 가능하면 작게 만드는 것이라고 생각할 수 있다.**

#### 보충 설명 

아날로그는 가능한 한 선형 영역을 크게 만드는 것이고 디지털은 직선부를 가능하면 작게 만드는것이다. 라는 말이 결국 뜻하는 건 무엇일까?

이 설명은 아날로그와 디지털 신호의 특성과 설계 목표의 차이를 요약한 것이다. 여기서 말하는 "선형 영역"과 "직선부"는 아날로그와 디지털 시스템에서 신호를 다루는 방식과 그에 따른 설계 철학의 차이를 반영하고 있다.

1. 아날로그: 선형 영역을 크게 만드는 목표

- 아날로그 시스템에서 선형 영역이란 입력 신호와 출력 신호 사이의 관계가 비례하는 구간을 말한다. 즉, 입력이 증가하면 출력도 비례해서 증가하는 영역이다.
- 아날로그 시스템의 목표는 가능한 한 입력과 출력의 관계가 선형적인, 즉 비례 관계가 오래 유지되는 구간을 크게 만드는 것이다.
- 이유는 선형 영역이 클수록 신호가 왜곡되지 않고 정확하게 전달되기 때문이다. 예를 들어, 아날로그 오디오 증폭기에서 선형 영역이 클수록 원래의 소리 신호가 왜곡 없이 증폭되어 더 고음질의 소리를 전달할 수 있다.
- 아날로그 회로는 입력이 작든 크든 출력이 비례해서 반응하도록 설계하려고 한다. 그래야 신호가 원래 의도와 가장 가깝게 유지된다.
- 따라서 아날로그 시스템은 선형 영역을 크게 만드는 것이 매우 중요하다. 그래야 외부의 다양한 아날로그 신호를 안정적으로 받아들이고 출력할 수 있기 때문이다.
  
2. 디지털: 직선부를 작게 만드는 목표

- 디지털 시스템에서 말하는 직선부는 아날로그 신호가 디지털로 변환될 때 나타나는 신호가 일정하게 유지되는 구간을 의미한다. 이는 디지털 시스템에서 신호의 값이 고정된 상태를 말하며, 일반적으로 0 또는 1로 구분된다.
- 디지털 시스템의 목표는 가능한 한 신호가 급격하게 0 또는 1로 변환되도록 설계하여 직선부, 즉 중간 상태의 불명확한 구간을 줄이는 것이다.
- 이유는 디지털 시스템이 0 또는 1의 두 가지 상태로만 신호를 처리하기 때문이다. 중간 상태가 존재하면 그 신호가 0인지 1인지 불확실해지는 문제가 생기기 때문에, 신호가 가능한 한 명확하게 이산적(디지털) 상태로 나뉘어야 한다.
- 결과적으로 디지털 신호는 가능한 빠르게 스위칭(전환)이 일어나야 하며, 중간에서 머무는 시간이 짧아야만 잡음과 같은 외부 간섭의 영향을 최소화할 수 있다. 직선부가 작다는 것은 신호가 0에서 1로 바뀌거나 그 반대의 상태로 바뀔 때 빠르고 확실하게 이동한다는 것을 의미한다.
- 
3. 설계 철학의 차이 요약

- 아날로그 시스템은 가능한 한 연속적이고 선형적인 응답을 유지하려 한다. 즉, 입력이 변화할 때 출력이 부드럽고 비례적으로 따라오는 것을 목표로 한다. 이를 통해 왜곡 없는 신호 처리가 가능하다.
- **디지털 시스템은 신호의 이산적 특성을 활용하여 잡음에 강하고 신뢰성 있게 신호를 처리한다. 직선부가 작아야 신호가 명확히 0과 1 사이를 오가며, 모호한 중간 상태가 줄어들어 확실한 신호 구분이 가능하다.**

**즉 그동안 설명한 왜곡의 방식을 활용하여 연속적인 공간을 이산적인 영역으로 나눠주는 것이다.**

### 10진 숫자 대신 비트를 사용하는 이유

이번엔 왜 컴퓨터가 10진 숫자를 사용하지 않고 비트(2진수)를 사용할까? 사람에게는 10진수가 훨씬 편한데 말이다.
사실 0부터 9까지 일일이 세는건 매우 직관적이지만 하나의 표현 방식(손가락이든 뭐든)이 하나의 숫자만 표현하기 때문에 효율적인 면엔 비트 사용이 매우 효율적이다.
꽤나 훌륭한 예시가 있는데, 손가락 하나를 숫자 1부터 10을 표현하는게 아닌 한 개당 비트로 표현한다면 **손가락 10개만으로 1000개가 넘는 숫자를 셀 수 있다는 점이다.**
단순히 생각해봐도 손가락 4개만을 이용해 각 손가락으로 비트를 표현한다면, 우리가 흔히 사용하는 10진수 식으로 손가락 10개를 다 써서 수를 세는것보다 효율적이다.

또 다른 이유로는 우리가 흔히 사용하는 0-9까지의 숫자를 사용하면 각기 다른 10가지 문턱값으로 구분할 수 있는 간단한 방법이 없기 때문이다.

컴퓨터는 잡음 내성과 안정성을 위해 두 가지 상태(0과 1)만 가지는 가파른 신호를 사용한다.
만약 10진수(0~9)를 사용하려면 10개의 다른 문턱값이 필요하고, 이를 구분하는 것은 복잡하다.
반면, 0과 1로 구분하는 것은 단순하며, 잡음의 영향을 덜 받는다. 따라서 컴퓨터는 2진수를 사용하여 신호를 명확히 구분하고 안정성을 높인다.

0과 1을 구분하는 하드웨어는 간단하고, 신호 구분도 쉬워 비용이 절감된다.
0부터 9까지의 상태를 구분하려면 복잡한 하드웨어가 필요하며, 더 많은 전압 단계를 구분해야 하기 때문에 비용과 기술적 복잡성이 증가한다.
손가락 예시에서도 각 손가락이 2개의 상태(폄/접음)를 가질 때는 간단하지만, 10단계를 가져야 한다면 훨씬 어려워지는 것과 같다.

## 간단한 전기 이론 가이드

현대 컴퓨터는 전기를 조작해 작동된다. 간단하게 컴퓨터 하드웨어에서 전기를 사용하는 방법을 이해해보자.

### 전기는 수도 배관과 유사하다.

전기는 배관의 물로 비유가 가능하고 물이 물탱크에서 나오는 것처럼 전기도 배터리 같은 에너지 근원에서 나온다. 같은 원리로 에너지 고갈 시, 충전이 필요하다.

물 배관의 밸브를 생각해보자. 게이트 밸브라는 밸브는 손잡이를 이용해 열고 닫고 할 수가 있다. 즉 물을 흐르게 하냐 마냐를 제어할 수 있는데 이를 달리 표현하면 **밸브가 닫힌 걸 0으로, 열린 상태를 1로 표현 가능하다.** 

이를 이용해 AND 연산과 OR 연산도 구현이 가능하다.

상상을 해보자. 두 개의 게이트 벨브를 직렬로 연결한다면, 두개의 밸브가 모두 열려있어야지 물이 흐른다. 즉 AND 연산처럼 두 개의 값이 모두 1(TRUE) 일 떄 물이 흐르는 것이다.

OR은 어떨까? 이 둘을 두 줄에 하나씩 세로로, 즉 병렬로 연결하면 어떻게 될까? 위쪽 밸브를 잠궈도 아래쪽을 열면 물은 그대로 흐른다. 반대도 마찬가지이며 두 개 다 열려있다면 당연히 물은 흐른다.

즉 **두 개의 밸브가 모두 잠길때만 물이 흐르지 않는 OR연산이 구현된다.**
